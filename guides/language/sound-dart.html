<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="å¦‚ä½•ç¼–å†™å¥å…¨çš„ Dart ä»£ç ã€‚">
  <title>Dart ç±»å‹ç³»ç»Ÿ | Dart</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/touch-icon-iphone-a46c306c4fbfae0b28d63f512b01d7cb2ccf1e4ca9d7f3aab15ba1170beed4a0.png" rel="apple-touch-icon">
  <link href="/assets/touch-icon-ipad-d0181720760b3912858b6d40da1d5586b1e92c7c8656a485ea41005674401e6b.png" rel="apple-touch-icon" sizes="76x76">
  <link href="/assets/touch-icon-iphone-retina-3d9821a631425376ac6203dea3c23c1940ab7b5c506a25406662fab76cee2e0b.png" rel="apple-touch-icon" sizes="120x120">
  <link href="/assets/touch-icon-ipad-retina-b9715401952522f1daee2b4a4064a1bbfb5ffab78d0a47a7226dc87444d51c32.png" rel="apple-touch-icon" sizes="152x152">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Dart ç±»å‹ç³»ç»Ÿ" />
  <meta name="twitter:description" content="å¦‚ä½•ç¼–å†™å¥å…¨çš„ Dart ä»£ç ã€‚" />

  <!-- Open Graph -->
  <meta property="og:title" content="Dart ç±»å‹ç³»ç»Ÿ" />
  <meta property="og:description" content="å¦‚ä½•ç¼–å†™å¥å…¨çš„ Dart ä»£ç ã€‚" />
  <meta property="og:url" content="https://www.dartlang.org/guides/language/sound-dart" />
  <meta property="og:image" content="https://www.dartlang.org/assets/shared/dart-logo-for-shares.png?2" />
  <link href="https://fonts.googleapis.com/css?family=Google+Sans:300,400,500|Google+Sans+Display:400|Roboto:300,400,500|Roboto+Mono:300,400,700|Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" integrity="sha256-lvdbRd5XL46Jdp5k8t0obwZZImb/IxNQqdFjAKAsnb0=" crossorigin="anonymous" href="/assets/main-96f75b45de572f8e89769e64f2dd286f06592266ff231350a9d16300a02c9dbd.css">
  <script src="/assets/main-81783b1b9a1d39209aa2ec2eab702b1f7908b15082a3aef81ba13f2255d48ec4.js" integrity="sha256-gXg7G5odOSCaouwuq3ArH3kIsVCCo674G6E/IlXUjsQ=" crossorigin="anonymous" type="text/javascript"></script>
  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


 </head>
  <body class="default show_banner">
    <header id="page-header" class="site-header">
  <nav id="mainnav" class="site-header">
  <div id="menu-toggle"><i class="icon icon-menu"></i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/shared/dart/logo+text/horizontal/white-e71fb382ad5229792cc704b3ee7a88f8013e986d6e34f0956d89c453b454d0a5.svg" alt="Dart">
  </a>
  <ul class="navbar">
    <li class="mainnav__get-started">
      <a href="/guides" class="nav-link active"><span>æ–‡æ¡£</span></a>
    </li>
    <li>
      <a href="/platforms" class="nav-link">å¹³å°</a>
    </li>
    <li>
      <a href="/community" class="nav-link">ç¤¾åŒº</a>
    </li>
    <li>
      <a href="https://dartpad.cn/" target="_blank" class="nav-link no-automatic-external">ä½“éªŒ Dart</a>
    </li>
    <li>
      <a href="/get-dart" class="nav-link">å®‰è£… Dart</a>
    </li>
    <li>
      <a href="/about_zh_CN" class="nav-link">å…³äº</a>
    </li>
    <li class="searchfield">
      <form action="/search" class="site-header__search form-inline" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
      </form>
    </li>
  </ul>
</nav>

  
</header>
 <div class="banner">
  <p class="banner__text">
    
    
    Dart 2.3 å‘å¸ƒï¼Œé’ˆå¯¹æ„å»ºç”¨æˆ·ç•Œé¢è¿›è¡Œäº†ä¼˜åŒ–ã€‚
    <a class="external" href="https://medium.com/dartlang/announcing-dart-2-3-optimized-for-building-user-interfaces-e84919ca1dff">äº†è§£æ›´å¤šã€‚</a>
  </p>
</div>
 

    <div id="sidenav" class="">
  <form action="/search/" class="site-header__search form-inline">
    <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
  </form>

  <div class="site-sidebar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/platforms" class="nav-link">å¹³å°</a>
      </li>
      <li class="nav-item">
        <a href="/community" class="nav-link">ç¤¾åŒº</a>
      </li>
      <li class="nav-item">
        <a href="https://dartpad.cn" class="nav-link">ä½“éªŒ Dart</a>
      </li>
      <li class="nav-item">
        <a href="/guides" class="nav-link active">æ–‡æ¡£</a>
      </li>
      <li>
        <a href="/about_zh_CN" class="nav-link">å…³äº</a>
      </li>
    </ul>

    <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >ç¤ºä¾‹ & æ•™ç¨‹</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/samples">ç¤ºä¾‹ç¨‹åº</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs">Codelab</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials">æ•™ç¨‹</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="true" aria-controls="sidenav-2"
      >è¯­è¨€</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="/guides/language/language-tour">æ¦‚è§ˆ</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/guides/language/sound-dart">ç±»å‹ç³»ç»Ÿ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/spec">è§„èŒƒ</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart">Effective Dart</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="false" aria-controls="sidenav-3"
      >æ ¸å¿ƒåº“</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link" href="/guides/libraries">ç»¼è¿°</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/library-tour">æ¦‚è§ˆ</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="#sidenav-3-3" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >æ–‡ç« 
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/articles/libraries/dart-io">Intro to dart:io</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/articles/libraries/creating-streams">Creating streams</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="false" aria-controls="sidenav-4"
      >åŒ…</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/guides/packages">å¦‚ä½•ä½¿ç”¨åŒ…</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/useful-libraries">å¸¸ç”¨çš„åŒ…</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/create-library-packages">åˆ›å»ºåŒ…</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/publishing">å‘å¸ƒåŒ…</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-4-5"
      href="#sidenav-4-5" role="button"
      aria-expanded="false" aria-controls="sidenav-4-5"
    >å¼•ç”¨åŒ…
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4-5">
      <li class="nav-item">
    <a class="nav-link" href="/tools/pub/dependencies">ä¾èµ–</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/glossary">æœ¯è¯­</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/package-layout">åŒ…çš„è®¾è®¡çº¦å®š</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/environment-variables">Pub ç¯å¢ƒå˜é‡</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/pubspec">Pubspec æ–‡ä»¶</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/troubleshoot">Pub é—®é¢˜åˆ†æä¸è§£å†³</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/versioning">ç‰ˆæœ¬</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >å¼€å‘</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/tutorials/language/futures">Futures & Async-Await</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/json">ä½¿ç”¨ JSON</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/language/streams">Stream</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/mobile">ç§»åŠ¨åº”ç”¨</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-5"
      href="#sidenav-5-5" role="button"
      aria-expanded="false" aria-controls="sidenav-5-5"
    >å‘½ä»¤è¡Œåº”ç”¨ & æœåŠ¡åº”ç”¨
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-5">
      <li class="nav-item">
    <a class="nav-link" href="/server">ç»¼è¿°</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/get-started">å…¥é—¨</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/cmdline">ç¼–å†™å‘½ä»¤è¡Œåº”ç”¨</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/httpserver">ç¼–å†™ HTTP å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åº”ç”¨</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/c-interop">C & C++ äº¤äº’</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/libraries">åº“å’ŒåŒ…</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-6"
      href="#sidenav-5-6" role="button"
      aria-expanded="false" aria-controls="sidenav-5-6"
    >Web åº”ç”¨
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-6">
      <li class="nav-item">
    <a class="nav-link" href="/web">ç»¼è¿°</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/get-started">å…¥é—¨</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/fetch-data">åŠ¨æ€è·å–æ•°æ®</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-6-4"
      href="#sidenav-5-6-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-6-4"
    >åº•å±‚ Web ç¼–ç¨‹
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-6-4">
      <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/connect-dart-html">Dart å’Œ HTML å…³è”</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/add-elements">åœ¨ DOM ä¸­å¢åŠ  Element</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/remove-elements">åœ¨ DOM ä¸­ç§»é™¤ Element</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/web/js-interop">JS/TS äº¤äº’</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/deployment">å¼€å‘</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/libraries">åº“å’ŒåŒ…</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >å·¥å…· & æŠ€å·§</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/tools">ç»¼è¿°</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-2"
      href="#sidenav-6-2" role="button"
      aria-expanded="false" aria-controls="sidenav-6-2"
    >ç¼–è¾‘ & è°ƒè¯•
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/dart-devtools">Dart DevTool</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dartpad">DartPad</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/jetbrains-plugin">IntelliJ & Android Studio</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">VS Code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-3"
      href="#sidenav-6-3" role="button"
      aria-expanded="false" aria-controls="sidenav-6-3"
    >å‘½ä»¤è¡Œå·¥å…·
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-3">
      <li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-1"
      href="#sidenav-6-3-1" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-1"
    >Dart SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/tools/sdk">ç»¼è¿°</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-vm">dart (Dart VM)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart2aot">dart2aot & dartaotruntime</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart2js">dart2js (prod JS)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartanalyzer">dartanalyzer</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartdevc">dartdevc (dev JS)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartdoc">dartdoc</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartfmt">dartfmt</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/pub/cmd">pub</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-2"
      href="#sidenav-6-3-2" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-2"
    >å…¶ä»–å‘½ä»¤è¡Œå·¥å…·
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/build_runner">build_runner</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/webdev">webdev</a>
  </li>
  </ul>
  </li>
</ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-4"
      href="#sidenav-6-4" role="button"
      aria-expanded="false" aria-controls="sidenav-6-4"
    >æºç ç®¡ç†
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/formatting">æ ¼å¼åŒ–ä»£ç </a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/private-files">å“ªäº›å†…å®¹ä¸åº”è¯¥è¢«æäº¤</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-5"
      href="#sidenav-6-5" role="button"
      aria-expanded="false" aria-controls="sidenav-6-5"
    >é™æ€åˆ†æ
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-5">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/analysis-options">Customizing static analysis</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/sound-problems">Fixing common type problems</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-6"
      href="#sidenav-6-6" role="button"
      aria-expanded="false" aria-controls="sidenav-6-6"
    >æµ‹è¯• & ä¼˜åŒ–
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-6">
      <li class="nav-item">
    <a class="nav-link" href="/guides/testing">æµ‹è¯•</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/debugging">è°ƒè¯• Web åº”ç”¨</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >èµ„æº</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/code-of-conduct">è¡Œä¸ºå®ˆåˆ™</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-7-3"
      href="#sidenav-7-3" role="button"
      aria-expanded="false" aria-controls="sidenav-7-3"
    >å†å²
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/dart-2">è¿ç§»åˆ° Dart&nbsp;2</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/dart-2">è¿ç§» Web åº”ç”¨åˆ° Dart&nbsp;2</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/obsolete">è¿‡æ—¶çš„ Pub åŠŸèƒ½</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >ç›¸å…³ç½‘ç«™</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="https://api.dartlang.org" target="_blank" rel="noopener">API å‚è€ƒ<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://medium.com/dartlang" target="_blank" rel="noopener">Blog<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dartpad.cn" target="_blank" rel="noopener">DartPad (åœ¨çº¿ç¼–è¾‘å™¨)<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.dev" target="_blank" rel="noopener">Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev" target="_blank" rel="noopener">Pub åŒ…èµ„æº<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

  </div>
</div>

    <main id="page-content">
      







<div id="site-toc--side" class="site-toc ">
  <header class="site-toc__title">
    å¤§çº²
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
  </header>
  <ul class="section-nav nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯ç±»å‹å®‰å…¨">ä»€ä¹ˆæ˜¯ç±»å‹å®‰å…¨</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#ç±»å‹å®‰å…¨çš„å¥½å¤„">ç±»å‹å®‰å…¨çš„å¥½å¤„</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#é™æ€æ£€æŸ¥ä¸­çš„ä¸€äº›æŠ€å·§">é™æ€æ£€æŸ¥ä¸­çš„ä¸€äº›æŠ€å·§</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼">é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°">é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°ã€‚</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#ä¸è¦å°†åŠ¨æ€ç±»å‹çš„-list-çœ‹åšæ˜¯æœ‰ç±»å‹çš„-list">ä¸è¦å°†åŠ¨æ€ç±»å‹çš„ List çœ‹åšæ˜¯æœ‰ç±»å‹çš„ List</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#è¿è¡Œæ—¶æ£€æŸ¥">è¿è¡Œæ—¶æ£€æŸ¥</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#ç±»å‹æ¨æ–­">ç±»å‹æ¨æ–­</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#å­—æ®µå’Œæ–¹æ³•æ¨æ–­">å­—æ®µå’Œæ–¹æ³•æ¨æ–­</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#é™æ€å­—æ®µæ¨æ–­">é™æ€å­—æ®µæ¨æ–­</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#å±€éƒ¨å˜é‡æ¨æ–­">å±€éƒ¨å˜é‡æ¨æ–­</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#å‚æ•°ç±»å‹æ¨æ–­">å‚æ•°ç±»å‹æ¨æ–­</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#substituting-types">Substituting types</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#simple-type-assignment">Simple type assignment</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#generic-type-assignment">Generic type assignment</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#other-resources">Other resources</a></li>
</ul>
</div>


      <article>
        <div class="content">
          

          <div>
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/_guides/language/sound-dart.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/dartchina/site-www-cn/issues/new?title='Dart ç±»å‹ç³»ç»Ÿ' page issue&body=
Page URL: https://www.dartlang.org/guides/language/sound-dart%0D%0A
Page source: https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/_guides/language/sound-dart.md%0D%0A
%0D%0A
Found a typo? You can fix it yourself by going to the page source and clicking the pencil icon. Or finish creating this issue.%0D%0A
%0D%0A
Description of issue:" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

            <h1>Dart ç±»å‹ç³»ç»Ÿ</h1>
          </div>
          







<div id="site-toc--inline" class="site-toc toc-collapsible toc-collapsed">
  <header class="site-toc__title">
    å¤§çº²
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
      <span class="site-toc--inline__toggle toc-toggle-down"><i class="fas fa-chevron-down fa-m"></i></span>
      <span class="site-toc--inline__toggle toc-toggle-up"><i class="fas fa-chevron-up fa-m"></i></span>
    
  </header>
  <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#ä»€ä¹ˆæ˜¯ç±»å‹å®‰å…¨">ä»€ä¹ˆæ˜¯ç±»å‹å®‰å…¨</a></li>
<li class="toc-entry toc-h2"><a href="#ç±»å‹å®‰å…¨çš„å¥½å¤„">ç±»å‹å®‰å…¨çš„å¥½å¤„</a></li>
<li class="toc-entry toc-h2"><a href="#é™æ€æ£€æŸ¥ä¸­çš„ä¸€äº›æŠ€å·§">é™æ€æ£€æŸ¥ä¸­çš„ä¸€äº›æŠ€å·§</a>
<ul>
<li class="toc-entry toc-h3"><a href="#é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼">é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼</a></li>
<li class="toc-entry toc-h3"><a href="#é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°">é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°ã€‚</a></li>
<li class="toc-entry toc-h3"><a href="#ä¸è¦å°†åŠ¨æ€ç±»å‹çš„-list-çœ‹åšæ˜¯æœ‰ç±»å‹çš„-list">ä¸è¦å°†åŠ¨æ€ç±»å‹çš„ List çœ‹åšæ˜¯æœ‰ç±»å‹çš„ List</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#è¿è¡Œæ—¶æ£€æŸ¥">è¿è¡Œæ—¶æ£€æŸ¥</a></li>
<li class="toc-entry toc-h2"><a href="#ç±»å‹æ¨æ–­">ç±»å‹æ¨æ–­</a>
<ul>
<li class="toc-entry toc-h3"><a href="#å­—æ®µå’Œæ–¹æ³•æ¨æ–­">å­—æ®µå’Œæ–¹æ³•æ¨æ–­</a></li>
<li class="toc-entry toc-h3"><a href="#é™æ€å­—æ®µæ¨æ–­">é™æ€å­—æ®µæ¨æ–­</a></li>
<li class="toc-entry toc-h3"><a href="#å±€éƒ¨å˜é‡æ¨æ–­">å±€éƒ¨å˜é‡æ¨æ–­</a></li>
<li class="toc-entry toc-h3"><a href="#å‚æ•°ç±»å‹æ¨æ–­">å‚æ•°ç±»å‹æ¨æ–­</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#substituting-types">Substituting types</a>
<ul>
<li class="toc-entry toc-h3"><a href="#simple-type-assignment">Simple type assignment</a></li>
<li class="toc-entry toc-h3"><a href="#generic-type-assignment">Generic type assignment</a></li>
<li class="toc-entry toc-h3"><a href="#methods">Methods</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#other-resources">Other resources</a></li>
</ul>
</div>


          <?code-excerpt replace="/([A-Z]\w*)\d\b/$1/g; /\b(main)\d\b/$1/g"?>

<p>Dart ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼šDart ä½¿ç”¨é™æ€ç±»å‹æ£€æŸ¥å’Œ
<a href="#runtime-checks">è¿è¡Œæ—¶æ£€æŸ¥</a>
çš„ç»„åˆæ¥ç¡®ä¿å˜é‡çš„å€¼å§‹ç»ˆä¸å˜é‡çš„é™æ€ç±»å‹åŒ¹é…ã€‚å°½ç®¡ç±»å‹æ˜¯å¿…éœ€çš„ï¼Œä½†ç”±äº
<a href="#type-inference">ç±»å‹æ¨æ–­</a>
ï¼Œç±»å‹çš„æ³¨é‡Šæ˜¯å¯é€‰çš„ã€‚</p>

<p>æœ¬ç« é‡ç‚¹ä»‹ç» Dart 2 ä¸­æ·»åŠ çš„ç±»å‹å®‰å…¨åŠŸèƒ½ã€‚æœ‰å…³ Dart è¯­è¨€çš„å®Œæ•´ä»‹ç»ï¼ˆåŒ…æ‹¬ç±»å‹ï¼‰ï¼Œ
è¯·å‚é˜…<a href="/guides/language/language-tour">è¯­è¨€æ¦‚è§ˆ</a>ã€‚</p>

<aside class="alert alert-info">
  <p><strong>æœ¯è¯­è¯´æ˜ï¼š</strong>
  æœ¯è¯­ <strong>sound</strong> Dart å’Œ <strong>type safe</strong> Dart é€šå¸¸å¯äº’æ¢ä½¿ç”¨ã€‚
  ä½ å¯èƒ½è¿˜ä¼šçœ‹åˆ°æœ¯è¯­ <strong>strong mode</strong> ã€‚ 
  <strong>strong mode</strong> æ˜¯ä¸€ç§åœ¨Dart 1.xä¸­å¯é€‰çš„åŠŸèƒ½ï¼Œ
  å¯ä¸ºç±»å‹å®‰å…¨æä¾›éƒ¨åˆ†æ”¯æŒã€‚</p>
</aside>

<p>é™æ€ç±»å‹æ£€æŸ¥çš„ä¸€ä¸ªå¥½å¤„æ˜¯èƒ½å¤Ÿä½¿ç”¨ Dart çš„
<a href="/guides/language/analysis-options">é™æ€åˆ†æå™¨</a>
åœ¨ç¼–è¯‘æ—¶æ‰¾åˆ°é”™è¯¯ã€‚</p>

<p>å¯ä»¥å‘æ³›å‹ç±»æ·»åŠ ç±»å‹æ³¨é‡Šæ¥ä¿®å¤å¤§å¤šæ•°é™æ€åˆ†æé”™è¯¯ã€‚æœ€å¸¸è§çš„æ³›å‹ç±»æ˜¯é›†åˆç±»å‹ <code class="highlighter-rouge">List&lt;T&gt;</code> å’Œ <code class="highlighter-rouge">Map&lt;K,V&gt;</code> ã€‚</p>

<p>ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œ<code class="highlighter-rouge">main()</code> åˆ›å»ºä¸€ä¸ªåˆ—è¡¨å¹¶å°†å…¶ä¼ é€’ç»™ <code class="highlighter-rouge">printInts()</code> ï¼Œç”± <code class="highlighter-rouge">printInts()</code> å‡½æ•°æ‰“å°è¿™ä¸ªæ•´æ•°åˆ—è¡¨ã€‚</p>

<?code-excerpt "strong/lib/strong_analysis.dart (opening-example)" replace="/list(?=\))/[!$&!]/g"?>
<pre class="prettyprint lang-dart fails-sa">void printInts(List&lt;int&gt; a) =&gt; print(a);

void main() {
  var list = [];
  list.add(1);
  list.add("2");
  printInts(<span class="highlight">list</span>);
}</pre>

<p>ä¸Šé¢çš„ä»£ç åœ¨è°ƒç”¨ <code class="highlighter-rouge">printInts(list)</code> æ—¶ä¼šåœ¨ <code class="highlighter-rouge">list</code> ï¼ˆé«˜äº®æç¤ºï¼‰ä¸Šäº§ç”Ÿç±»å‹é”™è¯¯ï¼š</p>

<?code-excerpt "strong/analyzer-2-results.txt" retain="/List.*strong_analysis.*argument_type_not_assignable/" replace="/ at (lib|test)\/\w+\.dart:\d+:\d+//g"?>
<pre class="console-output"><code class="language-nocode">error â€¢ The argument type 'List' can't be assigned to the parameter type 'List&lt;int&gt;' â€¢ argument_type_not_assignable
</code></pre>

<p>é«˜äº®é”™è¯¯æ˜¯å› ä¸ºäº§ç”Ÿäº†ä» <code class="highlighter-rouge">List&lt;dynamic&gt;</code> åˆ° <code class="highlighter-rouge">List&lt;int&gt;</code> çš„ä¸æ­£ç¡®çš„éšå¼è½¬æ¢ã€‚
<code class="highlighter-rouge">list</code> å˜é‡æ˜¯ <code class="highlighter-rouge">List&lt;dynamic&gt;</code> é™æ€ç±»å‹ã€‚è¿™æ˜¯å› ä¸º <code class="highlighter-rouge">list</code> å˜é‡çš„åˆå§‹åŒ–å£°æ˜ <code class="highlighter-rouge">var list = []</code>
æ²¡æœ‰ä¸ºåˆ†æå™¨æä¾›è¶³å¤Ÿçš„ä¿¡æ¯æ¥æ¨æ–­æ¯” <code class="highlighter-rouge">dynamic</code> æ›´å…·ä½“çš„ç±»å‹å‚æ•°ã€‚
<code class="highlighter-rouge">printInts()</code> å‡½æ•°éœ€è¦ <code class="highlighter-rouge">List&lt;int&gt;</code> ç±»å‹çš„å‚æ•°ï¼Œå› æ­¤å¯¼è‡´ç±»å‹ä¸åŒ¹é…ã€‚</p>

<p>åœ¨åˆ›å»º <code class="highlighter-rouge">list</code> æ—¶æ·»åŠ ç±»å‹æ³¨é‡Š <code class="highlighter-rouge">&lt;int&gt;</code>ï¼ˆä»£ç ä¸­é«˜äº®æ˜¾ç¤ºéƒ¨åˆ†ï¼‰åï¼Œåˆ†æå™¨ä¼šæç¤ºæ— æ³•å°†å­—ç¬¦ä¸²å‚æ•°åˆ†é…ç»™ <code class="highlighter-rouge">int</code> å‚æ•°ã€‚
åˆ é™¤ <code class="highlighter-rouge">list.add("2")</code> ä¸­çš„å­—ç¬¦ä¸²å¼•å·ä½¿ä»£ç é€šè¿‡é™æ€åˆ†æå¹¶èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œã€‚</p>

<?code-excerpt "strong/test/strong_test.dart (opening-example)" replace="/<int.(?=\[)|2/[!$&!]/g"?>
<pre class="prettyprint lang-dart passes-sa">void printInts(List&lt;int&gt; a) =&gt; print(a);

void main() {
  var list = <span class="highlight">&lt;int&gt;</span>[];
  list.add(1);
  list.add(<span class="highlight">2</span>);
  printInts(list);
}</pre>

<p><a href="https://dartpad.cn/f64e963cb5f894e2146c2b28d5efa4ed">å°è¯•åœ¨ DartPad ä¸­ç»ƒä¹ </a>.</p>

<h2 id="ä»€ä¹ˆæ˜¯ç±»å‹å®‰å…¨">
<a id="ä»€ä¹ˆæ˜¯ç±»å‹å®‰å…¨" class="anchor" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä»€ä¹ˆæ˜¯ç±»å‹å®‰å…¨</h2>

<p>ç±»å‹å®‰å…¨æ˜¯ä¸ºäº†ç¡®ä¿ç¨‹åºä¸ä¼šè¿›å…¥æŸäº›æ— æ•ˆçŠ¶æ€ã€‚
å®‰å…¨ç±»å‹ç³»ç»Ÿæ„å‘³ç€ç¨‹åºæ°¸è¿œä¸ä¼šè¿›å…¥è¡¨è¾¾å¼æ±‚å€¼ä¸ºä¸è¡¨è¾¾å¼çš„é™æ€ç±»å‹ä¸åŒ¹é…çš„å€¼çš„çŠ¶æ€ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœè¡¨è¾¾å¼çš„é™æ€ç±»å‹æ˜¯ <code class="highlighter-rouge">String</code> ï¼Œåˆ™åœ¨è¿è¡Œæ—¶ä¿è¯åœ¨è¯„ä¼°å®ƒçš„æ—¶å€™åªä¼šè·å–å­—ç¬¦ä¸²ã€‚</p>

<p>Dart çš„ç±»å‹ç³»ç»Ÿï¼ŒåŒ Java å’Œ Cï¼ƒ ä¸­çš„ç±»å‹ç³»ç»Ÿç±»ä¼¼ï¼Œæ˜¯å®‰å…¨çš„ã€‚
å®ƒä½¿ç”¨é™æ€æ£€æŸ¥ï¼ˆç¼–è¯‘æ—¶é”™è¯¯ï¼‰å’Œè¿è¡Œæ—¶æ£€æŸ¥çš„ç»„åˆæ¥å¼ºåˆ¶æ‰§è¡Œç±»å‹å®‰å…¨ã€‚
ä¾‹å¦‚ï¼Œå°† <code class="highlighter-rouge">String</code> åˆ†é…ç»™ <code class="highlighter-rouge">int</code> æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶é”™è¯¯ã€‚å¦‚æœ<code class="highlighter-rouge">å¯¹è±¡</code>ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œ
ä½¿ç”¨ <code class="highlighter-rouge">as String</code> å°†<code class="highlighter-rouge">å¯¹è±¡</code>è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä¼šç”±äºè¿è¡Œæ—¶é”™è¯¯è€Œå¯¼è‡´è½¬æ¢å¤±è´¥ã€‚</p>

<h2 id="ç±»å‹å®‰å…¨çš„å¥½å¤„">
<a id="ç±»å‹å®‰å…¨çš„å¥½å¤„" class="anchor" href="#%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8%E7%9A%84%E5%A5%BD%E5%A4%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç±»å‹å®‰å…¨çš„å¥½å¤„</h2>

<p>å®‰å…¨ç±»å‹ç³»ç»Ÿæœ‰ä»¥ä¸‹å‡ ä¸ªå¥½å¤„ï¼š</p>

<ul>
  <li>
    <p>åœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥æ£€æŸ¥å¹¶æ˜¾ç¤ºç±»å‹ç›¸å…³çš„é”™è¯¯ã€‚<br>
å®‰å…¨ç±»å‹ç³»ç»Ÿå¼ºåˆ¶è¦æ±‚ä»£ç æ˜ç¡®ç±»å‹ï¼Œ
å› æ­¤åœ¨ç¼–è¯‘æ—¶ä¼šæ˜¾ç¤ºä¸ç±»å‹ç›¸å…³çš„é”™è¯¯ï¼Œ
è¿™äº›é”™è¯¯å¯èƒ½åœ¨è¿è¡Œæ—¶å¯èƒ½å¾ˆéš¾å‘ç°ã€‚</p>
  </li>
  <li>
    <p>ä»£ç æ›´å®¹æ˜“é˜…è¯»ã€‚<br>
ä»£ç æ›´å®¹æ˜“é˜…è¯»ï¼Œå› ä¸ºæˆ‘ä»¬ä¿¡èµ–ä¸€ä¸ªæ‹¥æœ‰æŒ‡å®šç±»å‹çš„å€¼ã€‚
åœ¨ç±»å‹å®‰å…¨çš„ Dart ä¸­ï¼Œç±»å‹æ˜¯ä¸ä¼šéª—äººçš„ã€‚ å› ä¸ºä¸€ä¸ªæ‹¥æœ‰æŒ‡å®šç±»å‹çš„å€¼æ˜¯å¯ä»¥è¢«ä¿¡èµ–çš„ã€‚</p>
  </li>
  <li>
    <p>ä»£ç å¯ç»´æŠ¤æ€§æ›´é«˜ã€‚<br>
åœ¨å®‰å…¨ç±»å‹ç³»ç»Ÿä¸‹ï¼Œå½“æ›´æ”¹ä¸€å¤„ä»£ç åï¼Œ
ç±»å‹ç³»ç»Ÿä¼šè­¦å‘Šå› æ­¤å½±å“åˆ°çš„å…¶ä»–ä»£ç å—ã€‚</p>
  </li>
  <li>
    <p>æ›´å¥½çš„ AOT ç¼–è¯‘ã€‚<br>
è™½ç„¶åœ¨æ²¡æœ‰ç±»å‹çš„æƒ…å†µä¸‹å¯ä»¥è¿›è¡Œ AOT ç¼–è¯‘ï¼Œ
ä½†ç”Ÿæˆçš„ä»£ç æ•ˆç‡è¦ä½å¾ˆå¤šã€‚</p>
  </li>
</ul>

<h2 id="é™æ€æ£€æŸ¥ä¸­çš„ä¸€äº›æŠ€å·§">
<a id="é™æ€æ£€æŸ¥ä¸­çš„ä¸€äº›æŠ€å·§" class="anchor" href="#%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8A%80%E5%B7%A7" aria-hidden="true"><span class="octicon octicon-link"></span></a>é™æ€æ£€æŸ¥ä¸­çš„ä¸€äº›æŠ€å·§</h2>

<p>å¤§å¤šæ•°é™æ€ç±»å‹çš„è§„åˆ™éƒ½å¾ˆå®¹æ˜“ç†è§£ã€‚
ä¸‹é¢æ˜¯ä¸€äº›ä¸å¤ªæ˜æ˜¾çš„è§„åˆ™ï¼š</p>

<ul>
  <li>é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼ã€‚</li>
  <li>é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°ã€‚</li>
  <li>ä¸è¦å°†åŠ¨æ€ç±»å‹çš„ List çœ‹åšæ˜¯æœ‰ç±»å‹çš„ List ã€‚</li>
</ul>

<p>è®©æˆ‘ä»¬é€šè¿‡ä¸‹é¢ç¤ºä¾‹çš„ç±»å‹ç»“æ„ï¼Œæ¥æ›´æ·±å…¥çš„äº†è§£è¿™äº›è§„åˆ™ï¼š</p>

<p><img src="images/type-hierarchy.png" alt="a hierarchy of animals where the supertype is Animal and the subtypes are Alligator, Cat, and HoneyBadger. Cat has the subtypes of Lion and MaineCoon"></p>

<p><a name="use-proper-return-types"></a></p>
<h3 id="é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼">
<a id="é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼" class="anchor" href="#%E9%87%8D%E5%86%99%E6%96%B9%E6%B3%95%E6%97%B6%E4%BD%BF%E7%94%A8%E5%AE%89%E5%85%A8%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC" aria-hidden="true"><span class="octicon octicon-link"></span></a>é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„è¿”å›å€¼</h3>

<p>å­ç±»æ–¹æ³•ä¸­è¿”å›å€¼ç±»å‹å¿…é¡»ä¸çˆ¶ç±»æ–¹æ³•ä¸­è¿”å›å€¼ç±»å‹çš„ç±»å‹ç›¸åŒæˆ–å…¶å­ç±»å‹ã€‚
è€ƒè™‘ Animal ç±»ä¸­çš„ Getter æ–¹æ³•ï¼š</p>

<?code-excerpt "strong/lib/animal.dart (Animal)" replace="/Animal get.*/[!$&!]/g"?>
<pre class="prettyprint lang-dart">class Animal {
  void chase(Animal a) { ... }
  <span class="highlight">Animal get parent =&gt; ...</span>
}</pre>

<p><code class="highlighter-rouge">çˆ¶ç±»</code> Getter æ–¹æ³•è¿”å›ä¸€ä¸ª Animal ã€‚åœ¨ HoneyBadger å­ç±»ä¸­ï¼Œ
å¯ä»¥ä½¿ç”¨ HoneyBadgerï¼ˆæˆ– Animal çš„ä»»ä½•å…¶ä»–å­ç±»å‹ï¼‰æ›¿æ¢ Getter çš„è¿”å›å€¼ç±»å‹ï¼Œ
ä½†ä¸å…è®¸ä½¿ç”¨å…¶ä»–çš„æ— å…³ç±»å‹ã€‚</p>

<?code-excerpt "strong/lib/animal.dart (HoneyBadger)" replace="/(\w+)(?= get)/[!$&!]/g"?>
<pre class="prettyprint lang-dart passes-sa">class HoneyBadger extends Animal {
  void chase(Animal a) { ... }
  <span class="highlight">HoneyBadger</span> get parent =&gt; ...
}</pre>

<?code-excerpt "strong/lib/animal_bad.dart (HoneyBadger)" replace="/(\w+)(?= get)/[!$&!]/g"?>
<pre class="prettyprint lang-dart fails-sa">class HoneyBadger extends Animal {
  void chase(Animal a) { ... }
  <span class="highlight">Root</span> get parent =&gt; ...
}</pre>

<p><a name="use-proper-param-types"></a></p>
<h3 id="é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°">
<a id="é‡å†™æ–¹æ³•æ—¶ä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°" class="anchor" href="#%E9%87%8D%E5%86%99%E6%96%B9%E6%B3%95%E6%97%B6%E4%BD%BF%E7%94%A8%E5%AE%89%E5%85%A8%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>é‡å†™æ–¹æ³•æ—¶ï¼Œä½¿ç”¨å®‰å…¨ç±»å‹çš„å‚æ•°ã€‚</h3>

<p>å­ç±»æ–¹æ³•çš„å‚æ•°å¿…é¡»ä¸çˆ¶ç±»æ–¹æ³•ä¸­å‚æ•°çš„ç±»å‹ç›¸åŒæˆ–æ˜¯å…¶å‚æ•°çš„çˆ¶ç±»å‹ã€‚
ä¸è¦ä½¿ç”¨åŸå§‹å‚æ•°çš„å­ç±»å‹ï¼Œæ›¿æ¢åŸæœ‰ç±»å‹ï¼Œè¿™æ ·ä¼šå¯¼è‡´å‚æ•°ç±»å‹â€æ”¶ç´§â€ã€‚</p>

<aside class="alert alert-info">
  <p><strong>æç¤ºï¼š</strong> å¦‚æœæœ‰åˆç†çš„ç†ç”±ä½¿ç”¨å­ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ <a href="/guides/language/sound-problems#the-covariant-keyword"><code class="highlighter-rouge">covariant</code> å…³é”®å­—</a>ã€‚</p>
</aside>

<p>è€ƒè™‘ Animal çš„ <code class="highlighter-rouge">chase(Animal)</code> æ–¹æ³•ï¼š</p>

<?code-excerpt "strong/lib/animal.dart (Animal)" replace="/void chase.*/[!$&!]/g"?>
<pre class="prettyprint lang-dart">class Animal {
  <span class="highlight">void chase(Animal a) { ... }</span>
  Animal get parent =&gt; ...
}</pre>

<p><code class="highlighter-rouge">chase()</code> æ–¹æ³•çš„å‚æ•°ç±»å‹æ˜¯ Animal ã€‚ä¸€ä¸ª HoneyBadger å¯ä»¥è¿½é€ä»»ä½•ä¸œè¥¿ã€‚
å› æ­¤å¯ä»¥åœ¨é‡å†™ <code class="highlighter-rouge">chase()</code> æ–¹æ³•æ—¶å°†å‚æ•°ç±»å‹æŒ‡å®šä¸ºä»»æ„ç±»å‹ ï¼ˆObjectï¼‰ ã€‚</p>

<?code-excerpt "strong/lib/animal.dart (chase-Object)" replace="/Object/[!$&!]/g"?>
<pre class="prettyprint lang-dart passes-sa">class HoneyBadger extends Animal {
  void chase(<span class="highlight">Object</span> a) { ... }
  Animal get parent =&gt; ...
}</pre>

<p>Mouse æ˜¯ Animal çš„å­ç±»ï¼Œä¸‹é¢çš„ä»£ç å°† <code class="highlighter-rouge">chase()</code> æ–¹æ³•ä¸­å‚æ•°çš„èŒƒå›´ä» Animal ç¼©å°åˆ° Mouse ã€‚</p>

<?code-excerpt "strong/lib/animal_bad.dart (chase-Mouse)" replace="/(\w+)(?= x)/[!$&!]/g"?>
<pre class="prettyprint lang-dart fails-sa">class Mouse extends Animal {...}

class Cat extends Animal {
  void chase(<span class="highlight">Mouse</span> x) { ... }
}</pre>

<p>ä¸‹é¢çš„ä»£ç ä¸æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå› ä¸º a å¯ä»¥æ˜¯ä¸€ä¸ª cat å¯¹è±¡ï¼Œå´å¯ä»¥ç»™å®ƒä¼ å…¥ä¸€ä¸ª alligator å¯¹è±¡ã€‚</p>

<?code-excerpt "strong/lib/animal_bad.dart (chase-Alligator)" replace="/Alligator/[!$&!]/g"?>
<pre class="prettyprint lang-dart">Animal a = Cat();
a.chase(<span class="highlight">Alligator</span>()); // Not type safe or feline safe</pre>

<h3 id="ä¸è¦å°†åŠ¨æ€ç±»å‹çš„-list-çœ‹åšæ˜¯æœ‰ç±»å‹çš„-list">
<a id="ä¸è¦å°†åŠ¨æ€ç±»å‹çš„-list-çœ‹åšæ˜¯æœ‰ç±»å‹çš„-list" class="anchor" href="#%E4%B8%8D%E8%A6%81%E5%B0%86%E5%8A%A8%E6%80%81%E7%B1%BB%E5%9E%8B%E7%9A%84-list-%E7%9C%8B%E5%81%9A%E6%98%AF%E6%9C%89%E7%B1%BB%E5%9E%8B%E7%9A%84-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸è¦å°†åŠ¨æ€ç±»å‹çš„ List çœ‹åšæ˜¯æœ‰ç±»å‹çš„ List</h3>

<p>å½“æœŸæœ›åœ¨ä¸€ä¸ª List ä¸­å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å¯¹è±¡æ—¶ï¼ŒåŠ¨æ€åˆ—è¡¨æ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚
ä½†æ˜¯ä¸èƒ½å°†åŠ¨æ€ç±»å‹çš„ List çœ‹åšæ˜¯æœ‰ç±»å‹çš„ List ã€‚</p>

<p>è¿™ä¸ªè§„åˆ™ä¹Ÿé€‚ç”¨äºæ³›å‹ç±»å‹çš„å®ä¾‹ã€‚</p>

<p>ä¸‹é¢ä»£ç åˆ›å»ºä¸€ä¸ª Dog çš„åŠ¨æ€ List ï¼Œå¹¶å°†å…¶åˆ†é…ç»™ Cat ç±»å‹çš„ List ï¼Œ
è¡¨è¾¾å¼åœ¨é™æ€åˆ†ææœŸé—´ä¼šäº§ç”Ÿé”™è¯¯ã€‚</p>

<?code-excerpt "strong/lib/animal_bad.dart (dynamic-list)" replace="/.dynamic.(?!.*OK)/[!$&!]/g"?>
<pre class="prettyprint lang-dart fails-sa">class Cat extends Animal { ... }

class Dog extends Animal { ... }

void main() {
  List&lt;Cat&gt; foo = <span class="highlight">&lt;dynamic&gt;</span>[Dog()]; // Error
  List&lt;dynamic&gt; bar = &lt;dynamic&gt;[Dog(), Cat()]; // OK
}</pre>

<h2 id="è¿è¡Œæ—¶æ£€æŸ¥">
<a id="è¿è¡Œæ—¶æ£€æŸ¥" class="anchor" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%A3%80%E6%9F%A5" aria-hidden="true"><span class="octicon octicon-link"></span></a>è¿è¡Œæ—¶æ£€æŸ¥</h2>

<p>è¿è¡Œæ—¶æ£€æŸ¥å·¥å…·ï¼Œæ¯”å¦‚ <a href="/server/tools/dart-vm">Dart VM</a> å’Œ <a href="/tools/dartdevc">dartdevc</a>ï¼Œ
å¤„ç†åˆ†æå™¨æ— æ³•æ•è·çš„ç±»å‹å®‰å…¨é—®é¢˜ã€‚</p>

<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç åœ¨è¿è¡Œæ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œ
å› ä¸ºå°† Dog ç±»å‹çš„ List èµ‹å€¼ç»™ Cat ç±»å‹çš„ List æ˜¯é”™è¯¯çš„ï¼š</p>

<?code-excerpt "strong/test/strong_test.dart (runtime-checks)" replace="/cats[^;]*/[!$&!]/g"?>
<pre class="prettyprint lang-dart runtime-fail">void main() {
  List&lt;Animal&gt; animals = [Dog()];
  List&lt;Cat&gt; <span class="highlight">cats = animals</span>;
}</pre>

<h2 id="ç±»å‹æ¨æ–­">
<a id="ç±»å‹æ¨æ–­" class="anchor" href="#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç±»å‹æ¨æ–­</h2>

<p>åˆ†æå™¨ï¼ˆanalyzerï¼‰å¯ä»¥æ¨æ–­å­—æ®µï¼Œæ–¹æ³•ï¼Œå±€éƒ¨å˜é‡å’Œå¤§å¤šæ•°æ³›å‹ç±»å‹å‚æ•°çš„ç±»å‹ã€‚
å½“åˆ†æå™¨æ²¡æœ‰è¶³å¤Ÿçš„ä¿¡æ¯æ¥æ¨æ–­å‡ºä¸€ä¸ªç‰¹å®šç±»å‹æ—¶ï¼Œä¼šä½¿ç”¨ <code class="highlighter-rouge">dynamic</code> ä½œä¸ºç±»å‹ã€‚</p>

<p>ä¸‹é¢æ˜¯åœ¨æ³›å‹ä¸­å¦‚ä½•è¿›è¡Œç±»å‹æ¨æ–­çš„ç¤ºä¾‹ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œåä¸º <code class="highlighter-rouge">arguments</code> çš„å˜é‡åŒ…å«ä¸€ä¸ª Map ï¼Œ
è¯¥ Map å°†å­—ç¬¦ä¸²é”®ä¸å„ç§ç±»å‹çš„å€¼é…å¯¹ã€‚</p>

<p>å¦‚æœæ˜¾å¼é”®å…¥å˜é‡ï¼Œåˆ™å¯ä»¥è¿™æ ·å†™ï¼š</p>

<?code-excerpt "strong/lib/strong_analysis.dart (type-inference-1-orig)" replace="/Map<String, dynamic\x3E/[!$&!]/g"?>
<pre class="prettyprint lang-dart"><span class="highlight">Map&lt;String, dynamic&gt;</span> arguments = {'argA': 'hello', 'argB': 42};</pre>

<p>æˆ–è€…ï¼Œä½¿ç”¨ <code class="highlighter-rouge">var</code> è®© Dart æ¥æ¨æ–­ç±»å‹ï¼š</p>

<?code-excerpt "strong/lib/strong_analysis.dart (type-inference-1)" replace="/var/[!$&!]/g"?>
<pre class="prettyprint lang-dart"><span class="highlight">var</span> arguments = {'argA': 'hello', 'argB': 42}; // Map&lt;String, Object&gt;</pre>

<p>Map å­—é¢é‡ä»å…¶æ¡ç›®ä¸­æ¨æ–­å‡ºå®ƒçš„ç±»å‹ï¼Œç„¶åå˜é‡ä» Map å­—é¢é‡çš„ç±»å‹ä¸­æ¨æ–­å‡ºå®ƒçš„ç±»å‹ã€‚
åœ¨æ­¤ Map ä¸­ï¼Œé”®éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä½†å€¼å…·æœ‰ä¸åŒçš„ç±»å‹ï¼ˆ String å’Œ int ï¼Œå®ƒä»¬å…·æœ‰å…±åŒçš„ä¸Šé™ç±»å‹ Object ï¼‰ã€‚
å› æ­¤ï¼ŒMap å­—é¢é‡çš„ç±»å‹ä¸º <code class="highlighter-rouge">Map&lt;String, Object&gt;</code> ï¼Œä¹Ÿå°±æ˜¯ <code class="highlighter-rouge">arguments</code> çš„ç±»å‹ã€‚</p>

<h3 id="å­—æ®µå’Œæ–¹æ³•æ¨æ–­">
<a id="å­—æ®µå’Œæ–¹æ³•æ¨æ–­" class="anchor" href="#%E5%AD%97%E6%AE%B5%E5%92%8C%E6%96%B9%E6%B3%95%E6%8E%A8%E6%96%AD" aria-hidden="true"><span class="octicon octicon-link"></span></a>å­—æ®µå’Œæ–¹æ³•æ¨æ–­</h3>

<p>é‡å†™çˆ¶ç±»çš„ä¸”æ²¡æœ‰æŒ‡å®šç±»å‹çš„å­—æ®µæˆ–æ–¹æ³•ï¼Œç»§æ‰¿çˆ¶ç±»ä¸­å­—æ®µæˆ–æ–¹æ³•çš„ç±»å‹ã€‚</p>

<p>æ²¡æœ‰å£°æ˜ç±»å‹ä¸”ä¸å­˜åœ¨ç»§æ‰¿ç±»å‹çš„å­—æ®µï¼Œå¦‚æœåœ¨å£°æ˜æ—¶è¢«åˆå§‹åŒ–ï¼Œ
é‚£ä¹ˆå­—æ®µçš„ç±»å‹ä¸ºåˆå§‹åŒ–å€¼çš„ç±»å‹ã€‚</p>

<h3 id="é™æ€å­—æ®µæ¨æ–­">
<a id="é™æ€å­—æ®µæ¨æ–­" class="anchor" href="#%E9%9D%99%E6%80%81%E5%AD%97%E6%AE%B5%E6%8E%A8%E6%96%AD" aria-hidden="true"><span class="octicon octicon-link"></span></a>é™æ€å­—æ®µæ¨æ–­</h3>

<p>é™æ€å­—æ®µå’Œå˜é‡çš„ç±»å‹ä»å…¶åˆå§‹åŒ–ç¨‹åºä¸­æ¨æ–­è·å¾—ã€‚ 
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ¨æ–­æ˜¯ä¸ªå¾ªç¯ï¼Œæ¨æ–­ä¼šå¤±è´¥
ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨æ–­å˜é‡çš„ç±»å‹å–å†³äºçŸ¥é“è¯¥å˜é‡çš„ç±»å‹ï¼‰ã€‚</p>

<h3 id="å±€éƒ¨å˜é‡æ¨æ–­">
<a id="å±€éƒ¨å˜é‡æ¨æ–­" class="anchor" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E6%8E%A8%E6%96%AD" aria-hidden="true"><span class="octicon octicon-link"></span></a>å±€éƒ¨å˜é‡æ¨æ–­</h3>

<p>åœ¨ä¸è€ƒè™‘è¿ç»­èµ‹å€¼çš„æƒ…å†µä¸‹ï¼Œå±€éƒ¨å˜é‡å¦‚æœæœ‰åˆå§‹åŒ–å€¼çš„æƒ…å†µä¸‹ï¼Œå…¶ç±»å‹æ˜¯ä»åˆå§‹åŒ–å€¼æ¨æ–­å‡ºæ¥çš„ã€‚
è¿™å¯èƒ½æ„å‘³ç€æ¨æ–­å‡ºæ¥çš„ç±»å‹ä¼šéå¸¸ä¸¥æ ¼ã€‚
å¦‚æœæ˜¯è¿™æ ·ï¼Œå¯ä»¥ä¸ºä»–ä»¬æ·»åŠ ç±»å‹æ³¨é‡Šã€‚ï¼ˆğŸ¤” This may mean that too precise a type may be inferred.
If so, you can add a type annotation.ï¼‰</p>

<?code-excerpt "strong/lib/strong_analysis.dart (local-var-type-inference-error)"?>
<pre class="prettyprint lang-dart fails-sa">var x = 3; // x is inferred as an int
x = 4.0;</pre>

<?code-excerpt "strong/lib/strong_analysis.dart (local-var-type-inference-ok)"?>
<pre class="prettyprint lang-dart passes-sa">num y = 3; // a num can be double or int
y = 4.0;</pre>

<h3 id="å‚æ•°ç±»å‹æ¨æ–­">
<a id="å‚æ•°ç±»å‹æ¨æ–­" class="anchor" href="#%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD" aria-hidden="true"><span class="octicon octicon-link"></span></a>å‚æ•°ç±»å‹æ¨æ–­</h3>

<p>æ„é€ å‡½æ•°è°ƒç”¨çš„ç±»å‹å‚æ•°å’Œ
<a href="/guides/language/language-tour#using-generic-methods">æ³›å‹æ–¹æ³•</a>è°ƒç”¨
æ˜¯æ ¹æ®ä¸Šä¸‹æ–‡çš„å‘ä¸‹ä¿¡æ¯å’Œæ„é€ å‡½æ•°æˆ–æ³›å‹æ–¹æ³•çš„å‚æ•°çš„å‘ä¸Šä¿¡æ¯ç»„åˆæ¨æ–­çš„ã€‚
å¦‚æœæ¨æ–­æ²¡æœ‰æŒ‰ç…§æ„æ„¿æˆ–æœŸæœ›è¿›è¡Œï¼Œé‚£ä¹ˆä½ å¯ä»¥æ˜¾å¼çš„æŒ‡å®šä»–ä»¬çš„å‚æ•°ç±»å‹ã€‚</p>

<?code-excerpt "strong/lib/strong_analysis.dart (type-arg-inference)"?>
<pre class="prettyprint lang-dart passes-sa">// Inferred as if you wrote &lt;int&gt;[].
List&lt;int&gt; listOfInt = [];

// Inferred as if you wrote &lt;double&gt;[3.0].
var listOfDouble = [3.0];

// Inferred as Iterable&lt;int&gt;
var ints = listOfDouble.map((x) =&gt; x.toInt());</pre>

<p>åœ¨æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæ ¹æ®å‘ä¸‹ä¿¡æ¯ <code class="highlighter-rouge">x</code> è¢«æ¨æ–­ä¸º <code class="highlighter-rouge">double</code> ã€‚ é—­åŒ…çš„è¿”å›ç±»å‹æ ¹æ®å‘ä¸Šä¿¡æ¯æ¨æ–­ä¸º <code class="highlighter-rouge">int</code> ã€‚
åœ¨æ¨æ–­ <code class="highlighter-rouge">map()</code> æ–¹æ³•çš„ç±»å‹å‚æ•°ï¼š<code class="highlighter-rouge">&lt;int&gt;</code> æ—¶ï¼ŒDart ä½¿ç”¨æ­¤è¿”å›å€¼çš„ç±»å‹ä½œä¸ºå‘ä¸Šä¿¡æ¯ã€‚</p>

<h2 id="substituting-types">
<a id="substituting-types" class="anchor" href="#substituting-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Substituting types</h2>

<p>When you override a method, you are replacing something of one type (in the
old method) with something that might have a new type (in the new method).
Similarly, when you pass an argument to a function,
you are replacing something that has one type (a parameter
with a declared type) with something that has another type
(the actual argument). When can you replace something that
has one type with something that has a subtype or a supertype?</p>

<p>When substituting types, it helps to think in terms of <em>consumers</em>
and <em>producers</em>. A consumer absorbs a type and a producer generates a type.</p>

<p><strong>You can replace a consumerâ€™s type with a supertype and a producerâ€™s
type with a subtype.</strong></p>

<p>Letâ€™s look at examples of simple type assignment and assignment with
generic types.</p>

<h3 id="simple-type-assignment">
<a id="simple-type-assignment" class="anchor" href="#simple-type-assignment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simple type assignment</h3>

<p>When assigning objects to objects, when can you replace a type with a
different type? The answer depends on whether the object is a consumer
or a producer.</p>

<p>Consider the following type hierarchy:</p>

<p><img src="images/type-hierarchy.png" alt="a hierarchy of animals where the supertype is Animal and the subtypes are Alligator, Cat, and HoneyBadger. Cat has the subtypes of Lion and MaineCoon"></p>

<p>Consider the following simple assignment where <code class="highlighter-rouge">Cat c</code> is a <em>consumer</em> and <code class="highlighter-rouge">Cat()</code>
is a <em>producer</em>:</p>

<?code-excerpt "strong/lib/strong_analysis.dart (Cat-Cat-ok)"?>
<pre class="prettyprint lang-dart">Cat c = Cat();</pre>

<p>In a consuming position, itâ€™s safe to replace something that consumes a
specific type (<code class="highlighter-rouge">Cat</code>) with something that consumes anything (<code class="highlighter-rouge">Animal</code>),
so replacing <code class="highlighter-rouge">Cat c</code> with <code class="highlighter-rouge">Animal c</code> is allowed, because Animal is
a supertype of Cat.</p>

<?code-excerpt "strong/lib/strong_analysis.dart (Animal-Cat-ok)"?>
<pre class="prettyprint lang-dart passes-sa">Animal c = Cat();</pre>

<p>But replacing <code class="highlighter-rouge">Cat c</code> with <code class="highlighter-rouge">MaineCoon c</code> breaks type safety, because the
superclass may provide a type of Cat with different behaviors, such
as Lion:</p>

<?code-excerpt "strong/lib/strong_analysis.dart (MaineCoon-Cat-err)"?>
<pre class="prettyprint lang-dart fails-sa">MaineCoon c = Cat();</pre>

<p>In a producing position, itâ€™s safe to replace something that produces a
type (Cat) with a more specific type (MaineCoon). So, the following
is allowed:</p>

<?code-excerpt "strong/lib/strong_analysis.dart (Cat-MaineCoon-ok)"?>
<pre class="prettyprint lang-dart passes-sa">Cat c = MaineCoon();</pre>

<h3 id="generic-type-assignment">
<a id="generic-type-assignment" class="anchor" href="#generic-type-assignment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generic type assignment</h3>

<p>Are the rules the same for generic types? Yes. Consider the hierarchy
of lists of animalsâ€”a List of Cat is a subtype of a List of
Animal, and a supertype of a List of MaineCoon:</p>

<p><img src="images/type-hierarchy-generics.png" alt="List&lt;Animal&gt; -&gt; List&lt;Cat&gt; -&gt; List&lt;MaineCoon&gt;"></p>

<p>In the following example, you can assign a <code class="highlighter-rouge">MaineCoon</code> list to <code class="highlighter-rouge">myCats</code> because
<code class="highlighter-rouge">List&lt;MaineCoon&gt;</code> is a subtype of <code class="highlighter-rouge">List&lt;Cat&gt;</code>:</p>

<?code-excerpt "strong/lib/strong_analysis.dart (generic-type-assignment-MaineCoon)" replace="/MaineCoon/[!$&!]/g"?>
<pre class="prettyprint lang-dart passes-sa">List&lt;Cat&gt; myCats = List&lt;<span class="highlight">MaineCoon</span>&gt;();</pre>

<p>What about going in the other direction? Can you assign an <code class="highlighter-rouge">Animal</code> list to a <code class="highlighter-rouge">List&lt;Cat&gt;</code>?</p>

<?code-excerpt "strong/lib/strong_analysis.dart (generic-type-assignment-Animal)" replace="/Animal/[!$&!]/g"?>
<pre class="prettyprint lang-dart passes-sa">List&lt;Cat&gt; myCats = List&lt;<span class="highlight">Animal</span>&gt;();</pre>

<p>This assignment passes static analysis,
but it creates an implicit cast. It is equivalent to:</p>

<?code-excerpt "strong/lib/strong_analysis.dart (generic-type-assignment-implied-cast)" replace="/as.*(?=;)/[!$&!]/g"?>
<pre class="prettyprint lang-dart">List&lt;Cat&gt; myCats = List&lt;Animal&gt;() <span class="highlight">as List&lt;Cat&gt;</span>;</pre>

<p>The code may fail at runtime. You can disallow implicit casts
by specifying <code class="highlighter-rouge">implicit-casts: false</code> in the <a href="/guides/language/analysis-options">analysis options file.</a></p>

<h3 id="methods">
<a id="methods" class="anchor" href="#methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods</h3>

<p>When overriding a method, the producer and consumer rules still apply.
For example:</p>

<p><img src="images/consumer-producer-methods.png" alt="Animal class showing the chase method as the consumer and the parent getter as the producer"></p>

<p>For a consumer (such as the <code class="highlighter-rouge">chase(Animal)</code> method), you can replace
the parameter type with a supertype. For a producer (such as
the <code class="highlighter-rouge">parent</code> getter method), you can replace the return type with
a subtype.</p>

<p>For more information, see
<a href="#use-proper-return-types">Use sound return types when overriding methods</a>
and <a href="#use-proper-param-types">Use sound parameter types when overriding methods</a>.</p>

<h2 id="other-resources">
<a id="other-resources" class="anchor" href="#other-resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other resources</h2>

<p>The following resources have further information on sound Dart:</p>

<ul>
  <li>
<a href="/guides/language/sound-problems">Fixing common type problems</a> -
Errors you may encounter when
writing sound Dart code, and how to fix them.</li>
  <li>
<a href="/dart-2">Dart 2</a> - How to update Dart 1.x code to Dart 2.</li>
  <li>
<a href="/guides/language/analysis-options">Customizing static analysis</a> - How
to set up and customize the analyzer and linter using an analysis
options file.</li>
</ul>


          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="container">
    <div class="content">
      <div class="text-center" martdown="1">
        <style>.menu .material-icons { font-size: 14px; }</style><ul class="menu">
          <li><a href="/terms">Terms</a></li>
          <li><a href="/security">Security</a></li>
          <li><a href="http://www.google.com/intl/en/policies/privacy/" class="no-automatic-external">Privacy</a></li>
          <li>Site&nbsp;<a href="http://creativecommons.org/licenses/by/3.0/" class="no-automatic-external">CC&nbsp;BY&nbsp;3.0</a></li>
          <li><a href="/about_zh_CN">å…³äº dart.dev ä¸­æ–‡ç‰ˆ</a></li>
          <li>
            <a href="https://github.com/dartchina/site-www-cn"
               title="è¯¥ç«™åœ¨ GitHub å¼€æº"
               class="no-automatic-external"><i class="fab fa-github fa-sm"></i></a>
            &nbsp;
            <a href="https://github.com/dartchina/site-www-cn/issues"
               title="ä¸ºè¯¥ç«™æäº¤ issue"
               class="no-automatic-external"><i class="fas fa-bug fa-sm"></i></a>
            &nbsp;
            <a 
               title="Site built on 2019/05/14 23:12 PDT"
               
               class="no-automatic-external"><i class="fas fa-wrench fa-sm"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>
